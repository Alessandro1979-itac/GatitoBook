{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../token.service\";\nexport class UsuarioService {\n  constructor(tokenService) {\n    this.tokenService = tokenService;\n    this.usuarioSubject = new BehaviorSubject({});\n    if (this.tokenService.possuiToken()) {\n      this.decodificaJWT();\n    }\n  }\n  decodificaJWT() {\n    const token = this.tokenService.retornaToken();\n    const usuario = jwt_decode(token);\n    this.usuarioSubject.next(usuario);\n  }\n  retornaUsuario() {\n    return this.usuarioSubject.asObservable();\n  }\n  salvaToken(token) {\n    this.tokenService.salvaToken(token);\n    this.decodificaJWT();\n  }\n  logout() {\n    this.tokenService.excluiToken();\n    this.usuarioSubject.next({});\n  }\n  estaLogado() {\n    return this.tokenService.possuiToken();\n  }\n}\nUsuarioService.ɵfac = function UsuarioService_Factory(t) {\n  return new (t || UsuarioService)(i0.ɵɵinject(i1.TokenService));\n};\nUsuarioService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UsuarioService,\n  factory: UsuarioService.ɵfac,\n  providedIn: 'root'\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}