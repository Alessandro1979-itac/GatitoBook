{"ast":null,"code":"import { tap } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./usuario/usuario.service\";\nconst API = environment.apiURL;\nexport class AutenticacaoService {\n  constructor(httpClient, usuarioService) {\n    this.httpClient = httpClient;\n    this.usuarioService = usuarioService;\n  }\n  autenticar(usuario, senha) {\n    return this.httpClient.post(`${API}/user/login'`, {\n      userName: usuario,\n      password: senha\n    }, {\n      observe: 'response'\n    }).pipe(tap(res => {\n      const authToken = res.headers.get('x-access-token') ?? '';\n      this.usuarioService.salvaToken(authToken);\n    }));\n  }\n}\nAutenticacaoService.ɵfac = function AutenticacaoService_Factory(t) {\n  return new (t || AutenticacaoService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.UsuarioService));\n};\nAutenticacaoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AutenticacaoService,\n  factory: AutenticacaoService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAGA,SAASA,GAAG,QAAQ,gBAAgB;AAEpC,SAASC,WAAW,QAAQ,gCAAgC;;;;AAG5D,MAAMC,GAAG,GAAGD,WAAW,CAACE,MAAM;AAK9B,OAAM,MAAOC,mBAAmB;EAC9BC,YACUC,UAAsB,EACtBC,cAA8B;IAD9B,eAAU,GAAVD,UAAU;IACV,mBAAc,GAAdC,cAAc;EACrB;EAEHC,UAAU,CAACC,OAAe,EAAEC,KAAa;IACvC,OAAO,IAAI,CAACJ,UAAU,CACnBK,IAAI,CACH,GAAGT,GAAG,cAAc,EACpB;MACEU,QAAQ,EAAEH,OAAO;MACjBI,QAAQ,EAAEH;KACX,EACD;MAAEI,OAAO,EAAE;IAAU,CAAE,CACxB,CACAC,IAAI,CACHf,GAAG,CAAEgB,GAAG,IAAI;MACV,MAAMC,SAAS,GAAGD,GAAG,CAACE,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE;MACzD,IAAI,CAACZ,cAAc,CAACa,UAAU,CAACH,SAAS,CAAC;IAC3C,CAAC,CAAC,CACH;EACL;;AAtBWb,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;SAAnBA,mBAAmB;EAAAiB,SAAnBjB,mBAAmB;EAAAkB,YAFlB;AAAM","names":["tap","environment","API","apiURL","AutenticacaoService","constructor","httpClient","usuarioService","autenticar","usuario","senha","post","userName","password","observe","pipe","res","authToken","headers","get","salvaToken","factory","providedIn"],"sourceRoot":"","sources":["/home/alemcar/Documentos/www/gatito-book/gatitobook-front/src/app/autenticacao/autenticacao.service.ts"],"sourcesContent":["import { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { environment } from '../../environments/environment';\nimport { UsuarioService } from './usuario/usuario.service';\n\nconst API = environment.apiURL;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AutenticacaoService {\n  constructor(\n    private httpClient: HttpClient,\n    private usuarioService: UsuarioService\n  ) {}\n\n  autenticar(usuario: string, senha: string): Observable<HttpResponse<any>> {\n    return this.httpClient\n      .post(\n        `${API}/user/login'`,\n        {\n          userName: usuario,\n          password: senha,\n        },\n        { observe: 'response' }\n      )\n      .pipe(\n        tap((res) => {\n          const authToken = res.headers.get('x-access-token') ?? '';\n          this.usuarioService.salvaToken(authToken);\n        })\n      );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}